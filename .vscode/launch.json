{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python Debugger: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            }
        },
        {
            "name": "Train HiSplat on ACID",
            "type": "python",
            "request": "launch",
            "module": "src.main_enhanced",
            "args": [
                "+experiment=acid",
                "data_loader.train.batch_size=2",
                "data_loader.train.num_workers=0",
                "device=cpu",
                "output_dir=EXP_SAVING_PATH",
                "trainer.val_check_interval=0"
            ],
            "console": "integratedTerminal",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "justMyCode": true
        },
        {
            "name": "Debug Demo (re10k)",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "args": [
                "+experiment=re10k",
                "mode=test",
                "output_dir=temp",
                "checkpointing.load=./checkpoints/hisplat_re10k.ckpt"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "justMyCode": false
        },
        {
            "name": "Debug Main (acid, batch2, workers0)",
            "type": "python",
            "request": "launch",
            "module": "src.main_enhanced",
            "args": [
                "+experiment=acid_enhancer",
                "data_loader.train.batch_size=1",
                "data_loader.train.num_workers=1",
                "device=auto",
                "output_dir=EXP_SAVING_PATH",
                "model/enhancer=enhancer_hier",
                // "model.enhancer.pose_enhancer.pose_encoder.eca_fusion_reduce=true",
                // "model.enhancer.pose_enhancer.pose_encoder.spatila_softmax=true",
                "model.enhancer.pose_enhancer.pose_encoder.use_norm_xy=true"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}"
            },
            "justMyCode": true
        },
        {
            "name": "AcceleratedFeatures: Train",
            "type": "python",
            "request": "launch",
            "module": "modules.training.train", //modules.training.train modules/eval/megadepth1500.py
            "args": [
              // 在这里填训练参数（可留空）
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/third_party/accelerated_features",
            "env": {
              "PYTHONPATH": "${workspaceFolder}/third_party/accelerated_features:${workspaceFolder}"
            },
            "justMyCode": false
        },
        {
            "name": "Eval PoseNet (MegaDepth-1500)",
            "type": "python",
            "request": "launch",
            "module": "pose_tools.eval_posenet",
            "args": [
                "output_dir=posenet_eval_md",
                "+experiment=acid_enhancer",
                "mode=test",
                "model/enhancer=enhancer",
                "model.enhancer.pose_enhancer.use_norm_xy=true",
                "checkpointing.load=/mnt/data/jun.wang03/HiSplat/outputs/EXP_SAVING_PATH_/checkpoints/epoch_3-step_10000-v1.ckpt"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "env": {
                "PYTHONPATH": "${workspaceFolder}",
                "MEGADEPTH_DIR": "/mnt/data/jun.wang03/megadepth"
            },
            "justMyCode": false
        },
        {
            "name": "Train PoseNet on MegaDepth",
            "type": "python",
            "request": "launch",
            "module": "pose_tools.train_posenet",
            "args": [
                "+experiment=acid_enhancer",
                "output_dir=posenet_md_train",
                "model/enhancer=enhancer_hier_cc",
                "model.enhancer.pose_enhancer.use_norm_xy=true",
                "posenet_train.batch_size=2",
                // "loss.pose_relative.weight_trans_scale=0.0",
                // "model.enhancer.pose_enhancer.pose_encoder.attn_encoder=[512, 512, 2, 0.5]"
            ],
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}/third_party/accelerated_features",
            "env": {
                "PYTHONPATH": "${workspaceFolder}",
                "MEGADEPTH_ROOT": "/ws/third_party/accelerated_features/xfeat_data_mini" //"/mnt/data/jun.wang03/xfeat_data_mini"
            },
            "justMyCode": true
        }
    ]
}