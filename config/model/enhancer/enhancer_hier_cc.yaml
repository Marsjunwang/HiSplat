name: pose_modified_panormic_feat
enhance_type: "both"

pose_enhancer:
  name: pose_hier_cc
  input_data: "image"  # "image" or "feat"
  use_norm_xy: true   # 是否给每个view添加归一化xy坐标，对应channel需要加上2个通道，用于后续特征融合
  # Limit predicted relative rotation so that two cameras' FOVs still overlap at infinity.
  # When enabled, we clamp yaw/pitch within each camera's FOV, preserving roll as much as possible.
  limit_pose_to_fov_overlap: false
  # Small margin (in degrees) subtracted from FOV to avoid numerical boundary cases.
  fov_overlap_epsilon_deg: 0.5
  pose_encoder:
    name: resnet
    num_layers: 34
    num_input_images: 1
    pretrained: True
    channels: 3   # images 3 feat 128
    homo_ccl:
      name: homo_ccls
      ccl_mode: "global"
      softmax_scale: 10
      kernel_size: 3
      stride: 1
      dilation: 1
      padding: "same"
      tiles_y: 2
      tiles_x: 2
      patch_sizes: [16]
  pose_decoder:
    name: pose_decoder_homo
    num_input_features: 1
    num_frames_to_predict_for: 2
    stride: 1
    num_view_per_frame: 1    
    joint_pose: true    # for relative pose with multi-view, if true, the pose is the mean of all views
  
feat_enhancer:
  name: panormic_feat
  panormic_radius: 0.5
  panormic_resolution: [1.0, 1.0]
  